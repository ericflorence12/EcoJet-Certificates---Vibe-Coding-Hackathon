<!-- Page Banner -->
<div class="page-banner">
  <div class="banner-content">
    <div class="banner-icon">🏆</div>
    <div class="banner-text">
      <h1 class="banner-title">SAF Certificates</h1>
      <p class="banner-subtitle">View and download your sustainable aviation fuel certificates</p>
    </div>
  </div>
</div>

<div class="certificates-container">
  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="loading-spinner-large"></div>
    <p>Loading certificates...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error && !isLoading" class="error-container">
    <div class="alert alert-error">
      <span class="alert-icon">⚠️</span>
      {{ error }}
    </div>
    <button (click)="loadCertificates()" class="btn btn-outline">
      <span class="btn-icon">🔄</span>
      Retry
    </button>
  </div>

  <!-- Certificates Content -->
  <div *ngIf="!isLoading && !error" class="certificates-content">
    <!-- Certificates Grid -->
    <div *ngIf="certificates.length > 0" class="certificates-grid">
      <div *ngFor="let certificate of certificates" class="certificate-card">
        <!-- Certificate Header -->
        <div class="certificate-header">
          <div class="certificate-number">
            <span class="cert-label">Certificate</span>
            <span class="cert-number">{{ certificate.certNumber }}</span>
          </div>

          <div class="certificate-status">
            <span class="badge" [ngClass]="getCertificateStatusClass(certificate)">
              {{ getCertificateStatusText(certificate) }}
            </span>
          </div>
        </div>

        <!-- Certificate Visual -->
        <div class="certificate-visual">
          <div class="cert-icon">📄</div>
          <div class="cert-type">SAF Certificate</div>
          <div class="cert-registry">Registry ID: {{ certificate.registryId }}</div>
        </div>

        <!-- Environmental Impact -->
        <div class="certificate-section">
          <h3 class="section-title">🌱 Environmental Impact</h3>
          <div class="impact-grid">
            <div class="impact-item">
              <div class="impact-icon">💨</div>
              <div class="impact-details">
                <span class="impact-value">{{ formatNumber(certificate.flightEmissions) }}</span>
                <span class="impact-unit">kg CO₂ Offset</span>
              </div>
            </div>
            <div class="impact-item">
              <div class="impact-icon">⛽</div>
              <div class="impact-details">
                <span class="impact-value">{{ formatNumber(certificate.safVolume) }}</span>
                <span class="impact-unit">L SAF</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Certificate Details -->
        <div class="certificate-section">
          <h3 class="section-title">📋 Certificate Details</h3>
          <div class="certificate-details">
            <div class="detail-row">
              <span class="detail-label">Order ID:</span>
              <span class="detail-value">#{{ certificate.orderId }}</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Issued Date:</span>
              <span class="detail-value">{{ formatDate(certificate.issuedAt) }}</span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Valid Until:</span>
              <span class="detail-value">{{ formatDate(certificate.validUntil) }}</span>
            </div>
          </div>
        </div>

        <!-- Certificate Actions -->
        <div class="certificate-actions">
          <button
            (click)="downloadCertificate(certificate.id)"
            class="btn btn-primary"
          >
            <span class="btn-icon">📥</span>
            Download PDF
          </button>

          <button class="btn btn-outline" disabled>
            <span class="btn-icon">🔗</span>
            Share Certificate
          </button>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="certificates.length === 0" class="empty-state">
      <div class="empty-visual">
        <div class="empty-icon">📋</div>
        <div class="empty-certificates">
          <!-- Placeholder certificate cards -->
          <div class="placeholder-cert">
            <div class="placeholder-header"></div>
            <div class="placeholder-content">
              <div class="placeholder-line"></div>
              <div class="placeholder-line short"></div>
            </div>
          </div>
          <div class="placeholder-cert">
            <div class="placeholder-header"></div>
            <div class="placeholder-content">
              <div class="placeholder-line"></div>
              <div class="placeholder-line short"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="empty-content">
        <h3 class="empty-title">No Certificates Yet</h3>
        <p class="empty-description">
          You don't have any SAF certificates yet. Complete an order to receive your first certificate and start making a positive environmental impact.
        </p>

        <div class="empty-stats">
          <div class="stat-item">
            <div class="stat-icon">🌍</div>
            <div class="stat-text">Reduce carbon footprint</div>
          </div>
          <div class="stat-item">
            <div class="stat-icon">✈️</div>
            <div class="stat-text">Support sustainable aviation</div>
          </div>
          <div class="stat-item">
            <div class="stat-icon">📄</div>
            <div class="stat-text">Official documentation</div>
          </div>
        </div>

        <a routerLink="/orders/create" class="btn btn-primary btn-lg">
          <span class="btn-icon">🚀</span>
          Create Your First Order
        </a>
      </div>
    </div>
  </div>
</div>
